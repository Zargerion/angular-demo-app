<div class="home-container">
  <!-- Hero Section -->
  <section class="hero-section">
    <div class="hero-content">
      <h1 class="hero-title">Добро пожаловать в Angular Demo App</h1>
      <p class="hero-subtitle">
        Демонстрация всех возможностей Angular: компоненты, сервисы, директивы, pipes, 
        reactive forms, routing, state management и многое другое!
      </p>
      <div class="hero-actions">
        <button mat-raised-button color="primary" routerLink="/products">
          <mat-icon>shopping_cart</mat-icon>
          Посмотреть товары
        </button>
        <button mat-stroked-button routerLink="/forms">
          <mat-icon>description</mat-icon>
          Демо форм
        </button>
      </div>
    </div>
  </section>

  <!-- Stats Section -->
  <section class="stats-section">
    <div class="stats-grid">
      <mat-card class="stat-card">
        <mat-card-content>
          <div class="stat-content">
            <mat-icon class="stat-icon">inventory</mat-icon>
            <div class="stat-info">
              <h3>{{ stats().totalProducts }}</h3>
              <p>Товаров в каталоге</p>
            </div>
          </div>
        </mat-card-content>
      </mat-card>

      <mat-card class="stat-card">
        <mat-card-content>
          <div class="stat-content">
            <mat-icon class="stat-icon">people</mat-icon>
            <div class="stat-info">
              <h3>{{ stats().totalUsers }}</h3>
              <p>Зарегистрированных пользователей</p>
            </div>
          </div>
        </mat-card-content>
      </mat-card>

      <mat-card class="stat-card">
        <mat-card-content>
          <div class="stat-content">
            <mat-icon class="stat-icon">shopping_bag</mat-icon>
            <div class="stat-info">
              <h3>{{ stats().totalOrders }}</h3>
              <p>Выполненных заказов</p>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
  </section>

  <!-- Featured Products Section -->
  <section class="featured-section">
    <div class="section-header">
      <h2>Рекомендуемые товары</h2>
      <button mat-button routerLink="/products">
        Посмотреть все
        <mat-icon>arrow_forward</mat-icon>
      </button>
    </div>

    <div class="products-grid" *ngIf="!isLoading()">
      <mat-card *ngFor="let product of featuredProducts()" class="product-card">
        <div class="product-image">
          <img [src]="product.image" [alt]="product.name" loading="lazy">
          <div class="product-badge" *ngIf="!product.inStock">
            <mat-chip color="warn">Нет в наличии</mat-chip>
          </div>
        </div>

        <mat-card-header>
          <mat-card-title>{{ product.name }}</mat-card-title>
          <mat-card-subtitle>{{ product.category | titlecase }}</mat-card-subtitle>
        </mat-card-header>

        <mat-card-content>
          <p class="product-description">{{ product.description | slice:0:100 }}...</p>
          
          <div class="product-rating">
            <mat-icon *ngFor="let star of [1,2,3,4,5]" 
                      [class.filled]="star <= product.rating">
              star
            </mat-icon>
            <span class="rating-text">{{ product.rating }} ({{ product.reviews }})</span>
          </div>

          <div class="product-price">
            <span class="price">{{ product.price | customCurrency }}</span>
          </div>
        </mat-card-content>

        <mat-card-actions>
          <button mat-button color="primary" [routerLink]="['/products', product.id]">
            <mat-icon>visibility</mat-icon>
            Подробнее
          </button>
          
          <button 
            mat-raised-button 
            color="accent" 
            [disabled]="!product.inStock"
            (click)="addToCart(product)">
            <mat-icon>add_shopping_cart</mat-icon>
            {{ isInCart(product.id) ? 'В корзине' : 'В корзину' }}
          </button>
        </mat-card-actions>
      </mat-card>
    </div>

    <div *ngIf="isLoading()" class="loading-container">
      <mat-spinner></mat-spinner>
      <p>Загрузка товаров...</p>
    </div>
  </section>

  <!-- Features Section -->
  <section class="features-section">
    <h2>Возможности приложения</h2>
    <div class="features-grid">
      <mat-card class="feature-card">
        <mat-card-content>
          <mat-icon class="feature-icon">component_exchange</mat-icon>
          <h3>Компоненты</h3>
          <p>Standalone компоненты с lifecycle hooks, inputs/outputs, view encapsulation</p>
        </mat-card-content>
      </mat-card>

      <mat-card class="feature-card">
        <mat-card-content>
          <mat-icon class="feature-icon">settings</mat-icon>
          <h3>Сервисы</h3>
          <p>Dependency injection, HTTP клиент, state management с signals и RxJS</p>
        </mat-card-content>
      </mat-card>

      <mat-card class="feature-card">
        <mat-card-content>
          <mat-icon class="feature-icon">alt_route</mat-icon>
          <h3>Роутинг</h3>
          <p>Lazy loading, guards, параметры маршрутов, навигация</p>
        </mat-card-content>
      </mat-card>

      <mat-card class="feature-card">
        <mat-card-content>
          <mat-icon class="feature-icon">dynamic_form</mat-icon>
          <h3>Формы</h3>
          <p>Reactive и template-driven формы, валидация, динамические поля</p>
        </mat-card-content>
      </mat-card>

      <mat-card class="feature-card">
        <mat-card-content>
          <mat-icon class="feature-icon">tune</mat-icon>
          <h3>Директивы</h3>
          <p>Структурные и атрибутивные директивы, кастомные директивы</p>
        </mat-card-content>
      </mat-card>

      <mat-card class="feature-card">
        <mat-card-content>
          <mat-icon class="feature-icon">filter_list</mat-icon>
          <h3>Pipes</h3>
          <p>Встроенные и кастомные pipes для трансформации данных</p>
        </mat-card-content>
      </mat-card>
    </div>
  </section>
</div>
